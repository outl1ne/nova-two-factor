(()=>{"use strict";var e,t={115:(e,t,o)=>{const n=Vue;var a={class:"o1-grid o1-grid-cols-2 o1-gap-4"},r={class:""},i={key:0,class:""},l={class:"mb-4 text-slate-900 dark:text-slate-400"},s={class:"o1-flex o1-items-center o1-mb-4"},c={for:"op-enable",class:"o1-block o1-ml-2 o1-text-sm o1-font-medium dark:text-white"},d={class:"o1-flex o1-items-center o1-mb-4"},u={for:"op-disable",class:"o1-block o1-ml-2 o1-text-sm o1-font-medium dark:text-white"},f=(0,n.createElementVNode)("br",null,null,-1),p={key:1,class:""},m={class:"o1-my-2 o1-text-xl"},g={class:"o1-mb-3"},v={class:"o1-bg-gray-100 o1-text-gray-800 o1-text-xs o1-font-semibold o1-mr-2 o1-px-2.5 o1-py-0.5 o1-rounded"},y={class:"no-print o1-my-4 o1-text-md"},h={class:"o1-mb-4 o1-border-dashed o1-border-2 o1-border-light-blue dark:border-gray-500 o1-p-4 o1-rounded-lg o1-text-center o1-bg-gray-50 dark:bg-gray-700"},b={class:"o1-text-xl o1-text-black"},x={class:"o1-bg-gray-100 o1-text-gray-800 o1-text-xs o1-font-semibold o1-mr-2 o1-px-2.5 o1-py-0.5 o1-rounded"},w={class:"o1-my-4 o1-text-md"},_=(0,n.createElementVNode)("br",null,null,-1),N={class:"o1-h-full"},V={key:0,class:"o1-flex o1-justify-center o1-content-center o1-w-full o1-p-8"},k=["src"];const E={data:function(){return{twofa:[],form:{},status:null,loading:!0}},mounted:function(){this.getStatus(),this.getRecoveryCodes()},methods:{getStatus:function(){var e=this;Nova.request().get("/nova-vendor/nova-two-factor/status").then((function(t){e.status=t.data,e.loading=!1}))},getRecoveryCodes:function(){var e=this;Nova.request().get("/nova-vendor/nova-two-factor/register").then((function(t){e.twofa=t.data}))},toggle:function(){Nova.request().post("/nova-vendor/nova-two-factor/toggle",{status:this.status.enabled}).then((function(e){Nova.success(e.data.message)}))},confirmOtp:function(){var e=this;Nova.request().post("/nova-vendor/nova-two-factor/confirm",this.form).then((function(t){Nova.success(t.data.message),e.getStatus()})).catch((function(e){Nova.error(e.response.data.message)}))},autoSubmit:function(){6===this.form.otp.length&&this.confirmOtp()},downloadAsText:function(e,t){var o=document.createElement("a");o.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),o.setAttribute("download",e),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o)}},computed:{}};const S=(0,o(744).Z)(E,[["render",function(e,t,o,E,S,C){var D=(0,n.resolveComponent)("heading"),O=(0,n.resolveComponent)("LoadingButton"),T=(0,n.resolveComponent)("LoadingCard"),A=(0,n.resolveComponent)("LoadingView");return(0,n.openBlock)(),(0,n.createBlock)(A,{loading:S.loading},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(D,{class:"mb-6"},{default:(0,n.withCtx)((function(){return[(0,n.createTextVNode)((0,n.toDisplayString)(e.__("Two factor auth (Google 2FA)")),1)]})),_:1}),(0,n.createVNode)(T,{loading:S.loading,class:"o1-p-4"},{default:(0,n.withCtx)((function(){return[(0,n.createElementVNode)("div",a,[(0,n.createElementVNode)("div",r,[1==S.status.confirmed?((0,n.openBlock)(),(0,n.createElementBlock)("div",i,[(0,n.createElementVNode)("p",l,(0,n.toDisplayString)(e.__("Update your two factor security settings")),1),(0,n.createElementVNode)("div",s,[(0,n.withDirectives)((0,n.createElementVNode)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return S.status.enabled=e}),value:1,id:"op-enable",type:"radio",class:"o1-w-4 o1-h-4 o1-border-gray-300 o1-focus:ring-2 o1-focus:ring-blue-300"},null,512),[[n.vModelRadio,S.status.enabled]]),(0,n.createElementVNode)("label",c,(0,n.toDisplayString)(e.__("Enable")),1)]),(0,n.createElementVNode)("div",d,[(0,n.withDirectives)((0,n.createElementVNode)("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return S.status.enabled=e}),value:0,id:"op-disable",type:"radio",class:"o1-w-4 o1-h-4 o1-border-gray-300 o1-focus:ring-2 o1-focus:ring-blue-300"},null,512),[[n.vModelRadio,S.status.enabled]]),(0,n.createElementVNode)("label",u,(0,n.toDisplayString)(e.__("Disable")),1)]),f,(0,n.createVNode)(O,{onClick:C.toggle},{default:(0,n.withCtx)((function(){return[(0,n.createTextVNode)((0,n.toDisplayString)(e.__("Update Settings")),1)]})),_:1},8,["onClick"])])):((0,n.openBlock)(),(0,n.createElementBlock)("div",p,[(0,n.createElementVNode)("p",null,(0,n.toDisplayString)(e.__("Two factor authentication (2FA) strengthens access security by requiring two methods (also referred to as factors) to verify your identity. Two factor authentication protects against phishing, social engineering and password brute force attacks and secures your logins from attackers exploiting weak or stolen credentials.")),1),(0,n.createElementVNode)("h3",m,(0,n.toDisplayString)(e.__("Recovery codes")),1),(0,n.createElementVNode)("p",g,(0,n.toDisplayString)(e.__("Recovery code are used to access your account in the event you cannot receive two-factor authentication codes.")),1),(0,n.createElementVNode)("span",v,(0,n.toDisplayString)(e.__("Step 01")),1),(0,n.createElementVNode)("p",y,(0,n.toDisplayString)(e.__("Download, print or copy your recovery code before continuing two-factor authentication setup.")),1),(0,n.createElementVNode)("div",h,[(0,n.createElementVNode)("h2",b,(0,n.toDisplayString)(S.twofa.recovery),1),(0,n.createElementVNode)("a",{class:"o1-text-blue-700",onClick:t[2]||(t[2]=(0,n.withModifiers)((function(e){return C.downloadAsText("recover_code.txt",S.twofa.recovery)}),["prevent"])),href:"#"},(0,n.toDisplayString)(e.__("Download")),1)]),(0,n.createElementVNode)("span",x,(0,n.toDisplayString)(e.__("Step 02")),1),(0,n.createElementVNode)("div",w,[(0,n.createTextVNode)((0,n.toDisplayString)(e.__("Scan this QR code using Google authenticator to setup & enter OTP to activate 2FA"))+" ",1),(0,n.withDirectives)((0,n.createElementVNode)("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return S.form.otp=e}),onKeyup:t[4]||(t[4]=function(e){return C.autoSubmit()}),placeholder:"Enter OTP here",type:"text",class:"form-control form-input form-input-bordered o1-my-4"},null,544),[[n.vModelText,S.form.otp]]),_,(0,n.createVNode)(O,{loading:S.loading,disabled:S.loading,onClick:C.confirmOtp,class:"btn btn-default btn-primary"},{default:(0,n.withCtx)((function(){return[(0,n.createTextVNode)((0,n.toDisplayString)(e.__("Activate 2FA")),1)]})),_:1},8,["loading","disabled","onClick"])])]))]),(0,n.createElementVNode)("div",N,[S.status.confirmed?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",V,[(0,n.createElementVNode)("img",{width:"250",src:S.twofa.google2fa_url,alt:"qr_code"},null,8,k)]))])])]})),_:1},8,["loading"])]})),_:1},8,["loading"])}]]);Nova.booting((function(e){Nova.inertia("NovaTwoFactor",S)}))},910:()=>{},744:(e,t)=>{t.Z=(e,t)=>{const o=e.__vccOpts||e;for(const[e,n]of t)o[e]=n;return o}}},o={};function n(e){var a=o[e];if(void 0!==a)return a.exports;var r=o[e]={exports:{}};return t[e](r,r.exports,n),r.exports}n.m=t,e=[],n.O=(t,o,a,r)=>{if(!o){var i=1/0;for(d=0;d<e.length;d++){for(var[o,a,r]=e[d],l=!0,s=0;s<o.length;s++)(!1&r||i>=r)&&Object.keys(n.O).every((e=>n.O[e](o[s])))?o.splice(s--,1):(l=!1,r<i&&(i=r));if(l){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[o,a,r]},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={371:0,71:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var a,r,[i,l,s]=o,c=0;if(i.some((t=>0!==e[t]))){for(a in l)n.o(l,a)&&(n.m[a]=l[a]);if(s)var d=s(n)}for(t&&t(o);c<i.length;c++)r=i[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(d)},o=self.webpackChunkoutl1ne_nova_two_factor=self.webpackChunkoutl1ne_nova_two_factor||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})(),n.O(void 0,[71],(()=>n(115)));var a=n.O(void 0,[71],(()=>n(910)));a=n.O(a)})();